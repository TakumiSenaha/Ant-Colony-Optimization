# 現在実装されている学習手法一覧

## 1. BKB 学習手法（ノードの最良ボトルネック値の学習）

### 1.1 統計的 BKB 学習（RFC 6298 準拠）

**関数**: `update_node_bkb_statistics()`

**関連研究**:

- **RFC 6298** "Computing TCP's Retransmission Timer"
- TCP の RTO（Retransmission Timeout）計算アルゴリズムを帯域幅学習に適用

**定性的説明**:
指数移動平均（EMA）で平均と分散を同時に学習。TCP の RTT 推定と同様のアプローチで、ノードが観測したボトルネック値の統計的特性を逐次更新する。平均値は「期待されるボトルネック」、分散は「信頼度の逆数」として扱う。

---

### 1.2 シンプルな最大値 BKB 学習

**関数**: `update_node_bkb_simple()`

**関連研究**:

- **基本的な最適値追跡手法**
- ACO の従来手法

**定性的説明**:
観測された最大のボトルネック値をそのまま記憶する最もシンプルな手法。新しい観測値が現在の最大値を上回った場合のみ更新。揮発処理で古い情報を徐々に忘却する。

---

### 1.3 二段階学習（Two-Phase Learning）

**関数**: `update_node_bkb_two_phase()`

**関連研究**:

- **Multi-scale Learning**（マルチスケール学習）
- 短期・長期の時系列を同時に追跡する手法

**定性的説明**:
短期的な EMA（高速適応）と長期的な EMA（安定性）を並行して学習し、両者の最大値を有効 BKB として使用。動的環境では短期 EMA が、静的環境では長期 EMA が有効になる。

---

### 1.4 三段階学習（Three-Phase Learning）

**関数**: `update_node_bkb_three_phase()`

**関連研究**:

- **Multi-scale Learning**（マルチスケール学習の拡張）
- 超短期・短期・長期の 3 スケール学習

**定性的説明**:
二段階学習を拡張し、超短期 EMA（極めて高速適応）を追加。3 つの EMA の最大値を有効 BKB とする。より細かい時間スケールでの変化に敏感に反応できるが、ノイズの影響も受けやすい。

---

### 1.5 リングバッファベースの BKB 計算

**関数**: `update_node_bkb_time_window_max()`

**関連研究**:

- **Sliding Window Maximum**（スライディングウィンドウ最大値）
- **Ring Buffer**による時系列データ管理

**定性的説明**:
**「学習手法」ではなく、データ保存と BKB 計算の方法**。直近 N 個の観測値をリングバッファに保存し、その中の最大値を BKB として使用。リングバッファサイズ（`time_window_size`）は「BKB を保存しておく長さ（観測値の個数）」を決定する。FIFO（先入先出）で古い観測を自動的に忘却。観測回数ベースで管理するため、分散環境でも各ノードが独立して動作可能。

---

## 2. 帯域予測手法（エッジの帯域変動を予測）

### 2.1 AR(1)予測

**関数**: `predict_next_bandwidth_ar1()`

**関連研究**:

- **Autoregressive Model (AR Model)**
- Box & Jenkins (1976) "Time Series Analysis: Forecasting and Control"

**定性的説明**:
1 次自己回帰モデルで、直前の値と平均値への回帰に基づいて次ステップを予測。線形で定常過程を仮定。計算コストが低いが、非線形パターンや長距離依存性（LRD）を捉えにくい。

---

### 2.2 移動平均（Moving Average, MA）

**関数**: `predict_next_bandwidth_ma()`

**関連研究**:

- **Moving Average Forecasting**
- 時系列予測の基本的な手法

**定性的説明**:
直近の観測値の単純平均を予測値とする最もシンプルな手法。トレンドや周期性を考慮しないが、ノイズに強い。計算コストが非常に低く、リソース制約環境で有効。

---

### 2.3 指数平滑法（Exponential Smoothing, EMA）

**関数**: `predict_next_bandwidth_ema()`

**関連研究**:

- **Exponential Smoothing Methods**
- Brown (1959) "Statistical Forecasting for Inventory Control"
- Holt (1957) "Forecasting trends and seasonal by exponentially weighted moving averages"

**定性的説明**:
より最近の観測値に大きな重みを付ける手法。平滑化パラメータ α で適応速度を制御。AR(1)より柔軟だが、複雑なパターンには対応しきれない。計算コストは低い。

---

## 3. 周期性検出手法

### 3.1 自己相関ベースの周期性検出

**関数**: `detect_periodicity()`

**関連研究**:

- **Autocorrelation Function (ACF)**
- Box & Jenkins (1976) "Time Series Analysis: Forecasting and Control"

**定性的説明**:
異なるラグ（周期候補）での自己相関係数を計算し、閾値を超えた最も高い相関を持つ周期を検出。FFT より計算コストが低いが、時間的局在性を考慮しない。

---

### 3.2 ウェーブレット変換による周期性検出

**関数**: `detect_periodicity_wavelet()`

**関連研究**:

- **Wavelet Transform**
- Daubechies (1992) "Ten Lectures on Wavelets"
- **研究コンペンディウム推奨**: Chapter 2.3

**定性的説明**:
時間と周波数（スケール）の両方で局在化した分析が可能。FFT と異なり、パターンが「いつ」発生したかを特定できる。バースト的な変動や過渡的な周期性の検出に適している。

---

## 4. 適応的制御手法

### 4.1 予測変動性に基づく適応型蒸発率

**関数**: `calculate_adaptive_evaporation_rate()`

**関連研究**:

- **研究コンペンディウム推奨**: Chapter 3.2 "予測に基づくフェロモン制御"
- **Adaptive Evaporation in ACO**: Stützle & Hoos (2000) "MAX-MIN Ant System"

**定性的説明**:
予測される帯域変動の大きさに応じてフェロモン蒸発率を動的に調整。高変動予測時は蒸発率を上げて探索を促進し、低変動予測時は蒸発率を下げて既知の最良経路を活用。予測に基づく能動的な適応。

---

### 4.2 予測的ヒューリスティック

**関数**: `calculate_predictive_heuristic()`

**関連研究**:

- **研究コンペンディウム推奨**: Chapter 3.3 "予測的ヒューリスティックの経路選択ロジックへの融合"
- **Predictive Routing**: 経路選択における予測情報の活用

**定性的説明**:
エッジの予測される将来の帯域幅をヒューリスティック値として経路選択に組み込む。アリが次のノードを選択する際、現在の帯域だけでなく「予測される帯域」も考慮することで、先制的な経路選択を実現。

---

## 5. 統計的特性の学習

### 5.1 変動パターン学習

**関数**: `learn_bandwidth_pattern()`

**関連研究**:

- **Traffic Pattern Analysis**
- ネットワークトラフィックの統計的特性分析

**定性的説明**:
観測された帯域変動から、平均・分散・変動係数（CV）、周期性、トレンド、AR(1)係数などの統計的特性を学習。これらの特性は適応的揮発率の調整に使用される。

---

### 5.2 トレンド検出

**関数**: `detect_trend()`

**関連研究**:

- **Linear Regression for Trend Detection**
- 時系列データの傾向分析

**定性的説明**:
線形回帰で時系列データの傾き（トレンド）を検出し、「増加傾向」「減少傾向」「安定」の 3 つに分類。減少傾向のエッジは劣化していると判断して揮発を促進。

---

## 手法の分類

### ノード学習（BKB）

- 統計的 BKB 学習（RFC 6298 準拠）
- シンプルな最大値 BKB 学習
- 二段階学習
- 三段階学習

### BKB の記憶・計算方法

- **リングバッファベースの BKB 計算**
  - データ保存方法：リングバッファ（直近 N 個の観測値）
  - BKB 計算方法：保存された観測値の中の最大値
  - リングバッファサイズは「BKB を保存しておく長さ」を決定

### エッジ予測（帯域変動の予測）

- AR(1)予測
- 移動平均（MA）
- 指数平滑法（EMA）

### パターン検出

- 自己相関ベースの周期性検出
- ウェーブレット変換による周期性検出
- トレンド検出

### 適応的制御

- 予測変動性に基づく適応型蒸発率
- 予測的ヒューリスティック
