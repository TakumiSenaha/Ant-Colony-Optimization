# æˆåŠŸç‡åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã®æ¯”è¼ƒ

## ğŸ“Š æ—¢å­˜å®Ÿè£…ï¼ˆ`aco_main_bkb_available_bandwidth.py`ï¼‰

### ãƒ­ã‚¸ãƒƒã‚¯

**å„ã‚¢ãƒªãŒã‚´ãƒ¼ãƒ«ã«åˆ°é”ã—ãŸæ™‚ç‚¹ã§ã€ãã®è§£ãŒæœ€é©è§£ã¨ä¸€è‡´ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯**

```python
# ant_next_node_const_epsiloné–¢æ•°å†…
if ant.current == ant.destination:
    update_pheromone(ant, graph, generation, ...)
    # å„ã‚¢ãƒªãŒåˆ°é”ã—ãŸæ™‚ç‚¹ã§åˆ¤å®š
    ant_log.append(1 if min(ant.width) >= current_optimal_bottleneck else 0)
    ant_list.remove(ant)
elif len(ant.route) >= TTL:
    ant_log.append(0)  # ã‚´ãƒ¼ãƒ«ã«åˆ°é”ã§ããªã‹ã£ãŸå ´åˆã‚‚0
    ant_list.remove(ant)
```

### ç‰¹å¾´

- **ã‚¢ãƒªã”ã¨ã«åˆ¤å®š**: å„ã‚¢ãƒªãŒåˆ°é”ã—ãŸæ™‚ç‚¹ã§å³åº§ã«åˆ¤å®š
- **`ant_log`ã®é•·ã•**: `ä¸–ä»£æ•° Ã— ã‚¢ãƒªæ•°`ï¼ˆä¾‹: 1000 ä¸–ä»£ Ã— 10 ã‚¢ãƒª = 10,000 ã‚¨ãƒ³ãƒˆãƒªï¼‰
- **åˆ¤å®šã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ã‚¢ãƒªãŒã‚´ãƒ¼ãƒ«ã«åˆ°é”ã—ãŸç¬é–“

### CSV ãƒ­ã‚°ã®å½¢å¼

```
[0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, ...]  # å„ã‚¢ãƒªã”ã¨ã®æˆåŠŸ/å¤±æ•—
```

---

## âŒ ä¿®æ­£å‰ã®æ–°å®Ÿè£…ï¼ˆ`run_experiment.py`ï¼‰

### ãƒ­ã‚¸ãƒƒã‚¯

**ä¸–ä»£ã”ã¨ã«ã€ãã®ä¸–ä»£ã®è§£ã®ã†ã¡ 1 ã¤ã§ã‚‚æœ€é©è§£ã¨ä¸€è‡´ã™ã‚Œã° 1 ã‚’è¨˜éŒ²**

```python
# ä¸–ä»£ã”ã¨ã®æœ€é©è§£åˆ°é”ç‡ã‚’è¨˜éŒ²
ant_log = []
for generation_result in results:
    generation_solutions = generation_result["solutions"]
    generation_success = 0

    # å¸¯åŸŸã®ã¿æœ€é©åŒ–ã®å ´åˆã€æœ€é©è§£ã¨ã®æ¯”è¼ƒ
    if optimal_bottleneck is not None:
        for solution in generation_solutions:
            solution_bandwidth = solution[0]
            if abs(solution_bandwidth - optimal_bottleneck) < 0.01:
                generation_success = 1
                break  # 1ã¤ã§ã‚‚ä¸€è‡´ã™ã‚Œã°1
    # ãƒ‘ãƒ¬ãƒ¼ãƒˆæœ€é©åŒ–ã®å ´åˆã€ãƒ‘ãƒ¬ãƒ¼ãƒˆãƒ•ãƒ­ãƒ³ãƒ†ã‚£ã‚¢ã¨ã®æ¯”è¼ƒ
    elif pareto_frontier:
        for solution in generation_solutions:
            if metrics_calculator._is_pareto_optimal(solution, pareto_frontier):
                generation_success = 1
                break  # 1ã¤ã§ã‚‚ä¸€è‡´ã™ã‚Œã°1

    ant_log.append(generation_success)  # ä¸–ä»£ã”ã¨ã«1ã‚¨ãƒ³ãƒˆãƒª
```

### å•é¡Œç‚¹

- **ä¸–ä»£ã”ã¨ã®é›†è¨ˆ**: ä¸–ä»£ã”ã¨ã« 1 ã¤ã®å€¤ã—ã‹è¨˜éŒ²ã—ãªã„
- **`ant_log`ã®é•·ã•**: `ä¸–ä»£æ•°`ã®ã¿ï¼ˆä¾‹: 1000 ã‚¨ãƒ³ãƒˆãƒªï¼‰
- **æƒ…å ±ã®æå¤±**: ä¸–ä»£å†…ã§è¤‡æ•°ã®ã‚¢ãƒªãŒåˆ°é”ã—ã¦ã‚‚ã€1 ã¤ã§ã‚‚æˆåŠŸã™ã‚Œã° 1 ã«ãªã‚‹
- **æ—¢å­˜å®Ÿè£…ã¨ã®ä¸ä¸€è‡´**: æ—¢å­˜å®Ÿè£…ã®åˆ†æã‚³ãƒ¼ãƒ‰ï¼ˆ`csv_log_analysis_percentage_of_optimal_solution_use_modified_dijkstra.py`ï¼‰ãŒæœŸå¾…ã™ã‚‹å½¢å¼ã¨ç•°ãªã‚‹

### CSV ãƒ­ã‚°ã®å½¢å¼ï¼ˆä¿®æ­£å‰ï¼‰

```
[0, 0, 1, 0, 0, 1, 0, 0, 0, 1, ...]  # ä¸–ä»£ã”ã¨ã®æˆåŠŸ/å¤±æ•—ï¼ˆã‚¢ãƒªæ•°åˆ†ã®æƒ…å ±ãŒå¤±ã‚ã‚Œã‚‹ï¼‰
```

---

## âœ… ä¿®æ­£å¾Œã®æ–°å®Ÿè£…

### ãƒ­ã‚¸ãƒƒã‚¯

**å„ã‚¢ãƒªãŒã‚´ãƒ¼ãƒ«ã«åˆ°é”ã—ãŸæ™‚ç‚¹ã§ã€ãã®è§£ãŒæœ€é©è§£ï¼ˆã¾ãŸã¯ãƒ‘ãƒ¬ãƒ¼ãƒˆæœ€é©è§£ï¼‰ã¨ä¸€è‡´ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯**

```python
# ACOSolver.run()å†…
for ant in ants:
    success = self._ant_search(ant, goal_node)
    if success:
        solution = ant.get_solution()
        generation_solutions.append(solution)
        self.pheromone_updater.update_from_ant(ant, self.graph)

        # å„ã‚¢ãƒªãŒåˆ°é”ã—ãŸæ™‚ç‚¹ã§ã€æœ€é©è§£ã¨ä¸€è‡´ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
        is_optimal = 0
        if optimal_solution is not None:
            # å¸¯åŸŸã®ã¿æœ€é©åŒ–ã®å ´åˆ
            solution_bandwidth = solution[0]
            optimal_bandwidth = optimal_solution[0]
            if abs(solution_bandwidth - optimal_bandwidth) < 0.01:
                is_optimal = 1
        elif pareto_frontier and metrics_calculator:
            # ãƒ‘ãƒ¬ãƒ¼ãƒˆæœ€é©åŒ–ã®å ´åˆ
            if metrics_calculator._is_pareto_optimal(solution, pareto_frontier):
                is_optimal = 1
        ant_log.append(is_optimal)
    else:
        # ã‚´ãƒ¼ãƒ«ã«åˆ°é”ã§ããªã‹ã£ãŸå ´åˆ
        ant_log.append(0)
```

### ç‰¹å¾´

- **ã‚¢ãƒªã”ã¨ã«åˆ¤å®š**: å„ã‚¢ãƒªãŒåˆ°é”ã—ãŸæ™‚ç‚¹ã§å³åº§ã«åˆ¤å®šï¼ˆæ—¢å­˜å®Ÿè£…ã¨åŒã˜ï¼‰
- **`ant_log`ã®é•·ã•**: `ä¸–ä»£æ•° Ã— ã‚¢ãƒªæ•°`ï¼ˆæ—¢å­˜å®Ÿè£…ã¨åŒã˜ï¼‰
- **åˆ¤å®šã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ã‚¢ãƒªãŒã‚´ãƒ¼ãƒ«ã«åˆ°é”ã—ãŸç¬é–“ï¼ˆæ—¢å­˜å®Ÿè£…ã¨åŒã˜ï¼‰
- **ãƒ‘ãƒ¬ãƒ¼ãƒˆæœ€é©åŒ–å¯¾å¿œ**: ãƒ‘ãƒ¬ãƒ¼ãƒˆãƒ•ãƒ­ãƒ³ãƒ†ã‚£ã‚¢ã®è§£ã®ã†ã¡ã©ã‚Œã‹ã«ä¸€è‡´ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯

### CSV ãƒ­ã‚°ã®å½¢å¼ï¼ˆä¿®æ­£å¾Œï¼‰

```
[0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, ...]  # å„ã‚¢ãƒªã”ã¨ã®æˆåŠŸ/å¤±æ•—ï¼ˆæ—¢å­˜å®Ÿè£…ã¨åŒã˜å½¢å¼ï¼‰
```

---

## ğŸ” ä¸»ãªé•ã„

| é …ç›®                     | æ—¢å­˜å®Ÿè£…        | ä¿®æ­£å‰ã®æ–°å®Ÿè£…     | ä¿®æ­£å¾Œã®æ–°å®Ÿè£…     |
| ------------------------ | --------------- | ------------------ | ------------------ |
| **åˆ¤å®šã‚¿ã‚¤ãƒŸãƒ³ã‚°**       | å„ã‚¢ãƒªåˆ°é”æ™‚    | ä¸–ä»£ã”ã¨           | å„ã‚¢ãƒªåˆ°é”æ™‚ âœ…    |
| **`ant_log`ã®é•·ã•**      | ä¸–ä»£æ•° Ã— ã‚¢ãƒªæ•° | ä¸–ä»£æ•°ã®ã¿         | ä¸–ä»£æ•° Ã— ã‚¢ãƒªæ•° âœ… |
| **æƒ…å ±ã®ä¿æŒ**           | å…¨ã‚¢ãƒªã®çµæœ    | ä¸–ä»£ã”ã¨ã®é›†è¨ˆã®ã¿ | å…¨ã‚¢ãƒªã®çµæœ âœ…    |
| **åˆ†æã‚³ãƒ¼ãƒ‰ã¨ã®äº’æ›æ€§** | âœ… äº’æ›         | âŒ éäº’æ›          | âœ… äº’æ›            |

---

## ğŸ“ ã¾ã¨ã‚

**ä¿®æ­£å‰ã®å•é¡Œ**:

- ä¸–ä»£ã”ã¨ã®é›†è¨ˆã ã£ãŸãŸã‚ã€ä¸–ä»£å†…ã§è¤‡æ•°ã®ã‚¢ãƒªãŒåˆ°é”ã—ã¦ã‚‚æƒ…å ±ãŒå¤±ã‚ã‚Œã¦ã„ãŸ
- æ—¢å­˜å®Ÿè£…ã®åˆ†æã‚³ãƒ¼ãƒ‰ï¼ˆ`csv_log_analysis_percentage_of_optimal_solution_use_modified_dijkstra.py`ï¼‰ãŒæœŸå¾…ã™ã‚‹å½¢å¼ã¨ç•°ãªã£ã¦ã„ãŸ

**ä¿®æ­£å¾Œ**:

- æ—¢å­˜å®Ÿè£…ã¨åŒã˜ãƒ­ã‚¸ãƒƒã‚¯: å„ã‚¢ãƒªãŒåˆ°é”ã—ãŸæ™‚ç‚¹ã§åˆ¤å®š
- æ—¢å­˜å®Ÿè£…ã¨åŒã˜å½¢å¼: `ant_log`ã®é•·ã•ãŒ`ä¸–ä»£æ•° Ã— ã‚¢ãƒªæ•°`
- æ—¢å­˜å®Ÿè£…ã®åˆ†æã‚³ãƒ¼ãƒ‰ã¨å®Œå…¨ã«äº’æ›
